<!DOCTYPE html>
<!--
   Copyright 2014 Spotify AB

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<html>

  <head>
    <title>Online Java Thread Dump Analyzer</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/navbar.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  </head>

  <body>
    <script src="analyze.js" type="text/javascript"></script>
    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Thread Dump Analyzer</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="https://github.com/spotify/threaddump-analyzer/issues/new">Report a bug</a></li>
              <li><a href="https://github.com/spotify/threaddump-analyzer/blob/gh-pages/README.md#todo">Todo</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://github.com/spotify/threaddump-analyzer" target="_BLANK">Fork me on GitHub</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

      <!-- Main component for a primary marketing message or call to action -->
      <div class="jumbotron">
        <p>Paste your thread dump here:</p>
        <textarea class="form-control" style="min-width: 100%" id="TEXTAREA" autofocus rows="10"></textarea>
        <br/>
        <input type="submit" value="Analyze" onclick="analyzeTextfield();" />
        <input type="submit" value="Clear" onclick="clearTextfield();" />
        <br/>
        <br/>
        <p class="hint">
          This page is client-side only, and no data will leave your computer when you click Analyze.<br/>
          Credits to <a href="https://github.com/spotify" target="_BLANK">Spotify</a>
        </p>
        
        <div id="RUNNING_DIV" style="display: none;">
          <div class="panel panel-default">
            <!-- Default panel contents -->
            <div class="panel-heading" id="RUNNING_HEADER">Top Running Methods</div>
            <!-- Table -->
            <table id="RUNNING"
                   summary="Top methods from all threads that are running">
            </table>
          </div>
        </div>

        <div id="OUTPUT_DIV" style="display: none;">
          <div class="panel panel-default">
            <div id="OUTPUT"></div>
          </div>
        </div>

        <div id="SYNCHRONIZERS_DIV" style="display: none;">
          <div class="panel panel-default">
            <div class="panel-heading" id="SYNCHRONIZERS_HEADER">Synchronizers</div>
              <table id="SYNCHRONIZERS"
                     summary="A list of all synchronizers in the thread dump">
              </table>
              <p><a href="https://github.com/spotify/threaddump-analyzer/issues/new">Report a bug</a></p>
            </div>
          </div>
        </div>

        <div id="IGNORED_DIV" style="display: none;">
          <hr/>
          <h2>Ignored Input Lines</h2>
          <p><a href="https://github.com/spotify/threaddump-analyzer/blob/gh-pages/README.md#todo">
            See TODO list for which of these there are plans for already:</a></p>
          <table id="IGNORED" class="ignored"
                 summary="Lines that were ignored while parsing the thread dump">
          </table>
          <p><a href="https://github.com/spotify/threaddump-analyzer/issues/new">Report a bug</a></p>
        </div>
      </div>
    </div> <!-- /container -->
  </body>
</html>
